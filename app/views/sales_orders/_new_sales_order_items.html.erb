<table class="white-line-table target_table">
  <thead>
    <tr style="background-color: gainsboro;">
      <th>Product ID</th>
      <th>Quantity</th>
      <th>U/M</th>
      <th>Unit Price</th>
      <th>ETA Date</th>
      <th>Customer's P/O</th>
      <th>Part No.</th>
      <th width="100">Action</th>
    </tr>
  </thead>

  <tbody>
    <% if sales_order.sales_order_items.present? %>
    
      <% sales_order.sales_order_items.each do |soi| %>
    
        <tr class="<%= cycle('odd_line', 'even_line') %>">

          <td align="center" width="400">
            <%= select_tag "datarow[0][product_id]", options_for_select(product_finish_goods_with_combobox, soi.product_id), :include_blank => true, :style => "width: 400px;", :onchange => "product_customer_data(this)", :class => "mkendo_combobox", "required validationMessage" => "Please Enter Product ID" %>
            <span class="k-invalid-msg" data-for="datarow[0][product_id]"></span>
          </td>
          <td align="center" width="150">
            <%= text_field_tag "datarow[0][quantity]", soi.quantity, :class => "kendo_precision_0", "required validationMessage" => "Please Enter Quantity" %>
            <span class="k-invalid-msg" data-for="datarow[0][quantity]"></span>
          </td>
          <td align="center" width="150">
            <%= select_tag "datarow[0][unit_measurement_id]", options_from_collection_for_select(unit_measurement, 'id', 'code'  , soi.unit_measurement_id.to_i), :include_blank => true, :class => "mkendo_combobox", "required validationMessage" => "Please Enter U/M" %>
            <span class="k-invalid-msg" data-for="datarow[0][unit_measurement_id]"></span>
          </td>
          <td align="center" width="150">
            <%= text_field_tag "datarow[0][unit_price]", soi.unit_price, :class => "kendo_precision_4", "required validationMessage" => "Please Enter Unit Price"  %>
          </td>
          <td align="center" width="150">
            <%= text_field_tag "datarow[0][eta_date]", soi.eta.strftime("%d-%m-%Y"), :class => "mkendo_date", "required validationMessage" => "Please Enter ETA Date" %>
            <span class="k-invalid-msg" data-for="datarow[0][eta_date]"></span>
          </td>
          <td align="center" width="150"><%= text_field_tag "datarow[0][customer_po]", soi.customer_po, :class => "k-textbox" %></td>
          <td align="center" width="150"><%= text_field_tag "datarow[0][part_no]", soi.part_no, :class => "k-textbox" %></td>   
          <td align="center"><%= remove_row_button  %></td>

        </tr>
      
      <% end %>

    <% else %>
      
      <tr class="<%= cycle('odd_line', 'even_line') %>">
      
        <td align="center" width="400">
          <%= select_tag "datarow[0][product_id]", options_for_select(product_finish_goods_with_combobox), :include_blank => true, :style => "width: 400px;", :onchange => "product_customer_data(this)", :class => "mkendo_combobox", "required validationMessage" => "Please Enter Product ID" %>
          <span class="k-invalid-msg" data-for="datarow[0][product_id]"></span>
        </td>
        <td align="center" width="150">
          <%= text_field_tag "datarow[0][quantity]", '', "required validationMessage" => "Please Enter Quantity" %>
          <%#*:class => "kendo_precision_0",%>
          <span class="k-invalid-msg" data-for="datarow[0][quantity]"></span>
        </td>
        <td align="center" width="150">          
          <%= select_tag "datarow[0][unit_measurement_id]", options_from_collection_for_select(unit_measurement, 'id', 'code'), :include_blank => true, :class => "mkendo_combobox", "required validationMessage" => "Please Enter U/M" %>
          <span class="k-invalid-msg" data-for="datarow[0][unit_measurement_id]"></span>
        </td>
        <td align="center" width="150">
          <!--span id="unit_price_0"></span-->
          <%= text_field_tag "datarow[0][unit_price]", '', "required validationMessage" => "Please Enter Unit Price" %>
          <%#*:class => "kendo_precision_4",%> 
        </td>
        <td align="center" width="150">
          <%= text_field_tag "datarow[0][eta_date]", Date.today.strftime("%d-%m-%Y"), :class => "mkendo_date", "required validationMessage" => "Please Enter ETA Date" %>
          <span class="k-invalid-msg" data-for="datarow[0][eta_date]"></span>
        </td>
        <td align="center" width="150"><%= text_field_tag "datarow[0][customer_po]", '', :class => "k-textbox" %></td>
        <td align="center" width="150"><%= text_field_tag "datarow[0][part_no]", '', :class => "k-textbox" %></td>   
        <td align="center"><%= remove_row_button  %></td>
        
      </tr>
      
    <% end %>
  </tbody>
</table>
